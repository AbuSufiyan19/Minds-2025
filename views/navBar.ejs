<div class="psg-container psg-mobile">
  <a href="/#landing-section"><img src="./images/PSGCTlogo.png" alt=""></a>
  <p>PSG CT</p>
</div>
<div class="navbaricon">
  <div class="ff">
    <button class="menu"
      onclick="this.classList.toggle('opened');this.setAttribute('aria-expanded', this.classList.contains('opened'))"
      aria-label="Main Menu">
      <svg width="100" height="80" viewBox="0 0 100 100">
        <path class="line line1"
          d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058" />
        <path class="line line2" d="M 20,50 H 80" />
        <path class="line line3"
          d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
      </svg>
    </button>
  </div>
</div>
<section id="navbar-section">
  <div class="navcent">
    <div class="psg-container" style="z-index: 150;">
      <a href="/#landing-section"><img src="./images/PSGCTlogo.png" alt=""></a>
      <p>PSG College of Technology</p>
    </div>
    <nav class="navbar">
      <ul>
        <li><a href="/#landing-section">Home</a></li>
        <li><a href="/#about-section">About</a></li>
        <li><a href="/#events-section">Events</a></li>
        <!-- <li><a href="/#sponsors-section">Sponsors</a></li> -->
        <li><a href="/#footer-section">Contact</a></li>
        <li><a href="/schedule">Schedule</a></li>
        <li><a href="/myevent">My Events</a></li>
        <% if(user) { %>
          <li><a href="/logout" class="nav-logout">Logout</a></li>
          <% } %>
      </ul>
      <% if(user) { %>
        <div class="profile-container" style="position: absolute; right: 0">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="profile-logo">
            <path fill="#fff"
              d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464l349.5 0c-8.9-63.3-63.3-112-129-112l-91.4 0c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3z" />
          </svg>

          <ul class="dropdown-menu" style="display: none">
            <li><a href="/logout">Logout</a></li>
          </ul>
        </div>
        <% } %>
    </nav>
  </div>
</section>

<script>

  window.addEventListener('scroll', function () {
    const navcent = document.getElementsByClassName('navcent')[0];
    if (window.scrollY > 10) {
      navcent.classList.add('scrolled');
    } else {
      navcent.classList.remove('scrolled');
    }
  });

  const toggleButton = document.getElementsByClassName("navbaricon")[0];
  const navbarLinks = document.getElementsByClassName("navbar")[0];
  const navLinks = document.querySelectorAll(".navbar ul li a");
  toggleButton.addEventListener("click", () => {
    navbarLinks.classList.toggle("active");
  });

  navLinks.forEach(link => {
    link.addEventListener("click", () => {
      navbarLinks.classList.remove("active");
    });
  });

  document.querySelector('.profile-logo').addEventListener('click', function () {
    const dropdown = document.querySelector('.dropdown-menu');
    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
  });

  document.addEventListener('click', function (event) {
    // const profileLogo = document.querySelector('.profile-logo');
    const profileContainer = document.querySelector('.profile-container');
    const dropdown = document.querySelector('.dropdown-menu');
    if (!profileContainer.contains(event.target)) {
      dropdown.style.display = 'none';
      // profileLogo.style.display= 'none';
    }
  });

</script>